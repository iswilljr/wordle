(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2298)}])},2298:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return W},default:function(){return I}});var a=n(5893),s=n(797),r=n(6042),o=n(9396),i=n(9534),c=n(7568),l=n(4924),u=n(4051),d=n.n(u),f=n(7437),m=n(3454),v=f.Z.create({baseURL:m.env.NEXT_PUBLIC_API_URL}),h=function(){var e=(0,c.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return e.abrupt("return",e.sent.data);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.data||{});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),k=function(e){return h((function(){return v.get("/exists?word=".concat(e))}))},b=function(e,t){return h((function(){return v.get("/check?word=".concat(e,"&check=").concat(t))}))},w=n(7294),x=n(8746),y=n(4662),p=n(3216),N=n(9473),g=function(){return(0,N.I0)()},j=N.v9;function _(){var e=g(),t=j(p.az),n=j(y.AS),a=j(y.xU),r=j(y.hp),o=j(y.O9),i=(0,w.useCallback)((function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e((0,x.o3)({content:t,showButton:n})),e((0,x.$U)(!0)),a&&setTimeout((function(){e((0,x.$U)(!1)),e((0,x.o3)(null))}),400)}),[e]),u=(0,w.useCallback)((function(){6!==r&&o[r].length&&e((0,y.iv)((0,l.Z)({},r,o[r].slice(0,-1)))),n&&e((0,y.VW)(!1))}),[n,r,o,e]),f=(0,w.useCallback)((0,c.Z)(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(6!==r&&o[r].length>=5)){t.next=7;break}return t.next=3,k(o[r].join(""));case 3:t.sent.exists?(e((0,y.LP)(r+1)),e((0,y.Ff)((0,l.Z)({},r,!0)))):console.log("Does not exist"),t.next=8;break;case 7:i("Una palabra demasiado corta");case 8:a&&e((0,y.ft)(!1));case 9:case"end":return t.stop()}}),t)}))),[a,r,o,e,i]),m=(0,w.useCallback)((function(t){6!==r&&5!==o[r].length&&e((0,y.iv)((0,l.Z)({},r,(0,s.Z)(o[r]).concat([t]))))}),[r,o,e]),v=(0,w.useCallback)((function(n){var a=n.key.toLowerCase();if(!(t||6===r||n.altKey||n.ctrlKey||n.metaKey))return"backspace"===a?e((0,y.VW)(!0)):"enter"===a?e((0,y.ft)(!0)):void(1===a.length&&a.match(/[a-z]|\xf1/gi)&&5!==o[r].length&&e((0,y.iv)((0,l.Z)({},r,(0,s.Z)(o[r]).concat([a])))))}),[r,t,o,e]),h=(0,w.useCallback)((function(t){e((0,p.Ue)(t))}),[e]),b=(0,w.useCallback)((function(e){var t=e.element,n=e.className,a=e.time;t.classList.add(n),t.setAttribute("data-animation","flip-in"),setTimeout((function(){return t.setAttribute("data-animation","flip-out")}),a/2)}),[]),N=(0,w.useCallback)((function(){document.querySelectorAll(".Game-keyboard-button").forEach((function(e){e.setAttribute("data-animation","none"),e.classList.remove("letter-correct","letter-elsewhere","letter-absent")}))}),[]);return{deleteLastLetter:u,passToNextRow:f,addNewKey:m,addNewKeyWithEvent:v,setWordToGuess:h,animateKey:b,resetKeys:N,activeModal:i}}function L(e){var t=e.keys,n=e.className,s=void 0===n?"":n,c=(0,i.Z)(e,["keys","className"]),l=_(),u=l.addNewKey,d=l.deleteLastLetter,f=l.passToNextRow;return(0,a.jsx)("div",(0,o.Z)((0,r.Z)({className:"Game-keyboard-row ".concat(s)},c),{children:t.map((function(e){var t="string"===typeof e;return(0,a.jsx)("div",{tabIndex:-1,className:"Game-keyboard-button ".concat(t?"":e.className),onClick:function(){var n=(t?e:e.key).toLowerCase();return"enter"===n?f():"backspace"===n?d():void u(n)},children:t?e:e.icon?(0,a.jsx)(e.icon,{width:"22",height:"22"}):e.label},t?e:e.key)}))}))}var E=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],[{className:"Game-keyboard-button-wide",key:"backspace",label:"Backspace",icon:n(6821).Z},"z","x","c","v","b","n","m",{className:"Game-keyboard-button-wide",key:"enter",label:"Enter"}]];function Z(e){e.rowId;var t,n,s,l,u,f=e.keys,m=e.className,v=void 0===m?"":m,h=e.shouldCheck,k=e.wordToGuess,x=(0,i.Z)(e,["rowId","keys","className","shouldCheck","wordToGuess"]),y=g(),N=_().animateKey,j=(0,w.useRef)(null),L=(0,w.useRef)(null),E=(0,w.useRef)(null),Z=(0,w.useRef)(null),C=(0,w.useRef)(null);return(0,w.useEffect)((function(){[j,L,E,Z,C].forEach((function(e,t){var n=e.current;n&&(f[t]?(n.classList.add("selected"),n.setAttribute("data-animation","pop")):(n.classList.remove("selected"),n.setAttribute("data-animation","none")))}))}),[f]),(0,w.useEffect)((function(){(0,c.Z)(d().mark((function e(){var t,n,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=2;break}return e.abrupt("return");case 2:return t=[j,L,E,Z,C],e.next=5,b(k,f.join(""));case 5:(n=e.sent).keys.every((function(e){return"letter-correct"===e.class}))&&(y((0,p.Wf)(!0)),y((0,p.Sl)(!0))),a=300,t.forEach((function(e,t){var s=e.current;s&&setTimeout((function(){return N({element:s,className:n.keys[t].class,time:a})}),a*t)})),setTimeout((function(){document.querySelectorAll(".Game-keyboard-button").forEach((function(e){var t=n.keys.findIndex((function(t){var n;return t.key.toLowerCase()===(null===(n=e.textContent)||void 0===n?void 0:n.toLowerCase())}));if(-1!==t){var s=n.keys.splice(t,1)[0];e.classList.contains("letter-correct")||e.classList.contains(s.class)||N({element:e,className:s.class,time:a})}}))}),a*t.length+1);case 10:case"end":return e.stop()}}),e)})))()}),[h,f,k,N,y]),(0,a.jsxs)("div",(0,o.Z)((0,r.Z)({className:"Row ".concat(v)},x),{children:[(0,a.jsx)("div",{ref:j,className:"Row-letter","data-animation":"none",children:null!==(t=f[0])&&void 0!==t?t:""}),(0,a.jsx)("div",{ref:L,className:"Row-letter","data-animation":"none",children:null!==(n=f[1])&&void 0!==n?n:""}),(0,a.jsx)("div",{ref:E,className:"Row-letter","data-animation":"none",children:null!==(s=f[2])&&void 0!==s?s:""}),(0,a.jsx)("div",{ref:Z,className:"Row-letter","data-animation":"none",children:null!==(l=f[3])&&void 0!==l?l:""}),(0,a.jsx)("div",{ref:C,className:"Row-letter","data-animation":"none",children:null!==(u=f[4])&&void 0!==u?u:""})]}))}var C=function(e){var t=e.initialWord,n=_(),r=n.deleteLastLetter,o=n.passToNextRow,i=n.addNewKeyWithEvent,c=n.setWordToGuess,l=j(p.TV),u=j(y.AS),d=j(y.xU),f=j(y.O9),m=j(y.hd);return(0,w.useEffect)((function(){u&&r()}),[u,r]),(0,w.useEffect)((function(){d&&o()}),[d,o]),(0,w.useEffect)((function(){t&&c(t),console.log(t)}),[t,c]),function(e,t){var n=(0,w.useRef)(),a=window;(0,w.useEffect)((function(){n.current=t}),[t]),(0,w.useEffect)((function(){var t=function(e){var t;return null===n||void 0===n||null===(t=n.current)||void 0===t?void 0:t.call(n,e)};if(a&&a.addEventListener)return a.addEventListener(e,t),function(){return a.removeEventListener(e,t)}}),[e,a])}("keydown",i),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"game-wrapper",children:[(0,a.jsx)("div",{className:"game_rows",children:(0,s.Z)(Array(6)).map((function(e,t){var n=t;return(0,a.jsx)(Z,{rowId:t,keys:f[n],shouldCheck:m[n],wordToGuess:l},t)}))}),(0,a.jsx)("div",{className:"Game-keyboard",children:E.map((function(e,t){return(0,a.jsx)(L,{keys:e},t)}))})]})})},R=n(5675),T=n.n(R),G=n(3616),A=n(2315),K=n(2659),S=n(9910),U=function(){return(0,a.jsxs)("header",{children:[(0,a.jsx)("div",{className:"logo",children:(0,a.jsx)(T(),{width:227.67,height:22,src:"/logo.svg",alt:"",className:""})}),(0,a.jsxs)("div",{className:"cont flex",children:[(0,a.jsx)("a",{className:"lang mini_modal_link","data-modal-id":"#modal_languages",href:"#main",children:"EN"}),(0,a.jsx)("button",{type:"button",className:"generator",style:{display:"block"},children:(0,a.jsx)(G.Z,{width:"20",height:"20"})}),(0,a.jsxs)("div",{className:"buttons flex",children:[(0,a.jsx)("button",{type:"button",className:"button mini_modal_link","data-modal-id":"#modal_stats",children:(0,a.jsx)(A.Z,{width:"20",height:"20"})}),(0,a.jsx)("button",{type:"button",className:"button mini_modal_link","data-modal-id":"#modal_settings",children:(0,a.jsx)(K.Z,{width:"22",height:"22"})}),(0,a.jsx)("button",{type:"button",className:"button mini_modal_link","data-modal-id":"#modal_info",onClick:function(){var e,t,n,a,s,r;null===(e=document.querySelector("html"))||void 0===e||null===(t=e.classList)||void 0===t||null===(n=t.toggle)||void 0===n||n.call(t,"dark"),null===(a=document.querySelector("body"))||void 0===a||null===(s=a.classList)||void 0===s||null===(r=s.toggle)||void 0===r||r.call(s,"dark-theme")},children:(0,a.jsx)(S.Z,{width:"22",height:"22"})})]})]})]})},W=!0;function I(e){var t=e.word;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(U,{}),(0,a.jsx)(C,{initialWord:t})]})}}},function(e){e.O(0,[758,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);